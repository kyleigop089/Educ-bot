<!DOCTYPE html>
<html lang="en">
   <head>
      <title>BOGART AUTOBOT | WORKING 24/7</title>
      <meta name="description" content="Simple Facebook messenger bot hosting service created by Ulric Atayi.">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" href="styles.css">
   </head>
   <body>
      <div class="container">
      <p class="version"><b>**Version 2.4.2**</b></p>
      <button id="toggleButton" onclick="toggleText()">Guide & Active Session</button>
      <div class="container" id="myText">
      <h2>How to use Bogart Autobot</h2></center>
      <ol>
      <li><strong>Obtain your App State:</strong> Login to Facebook on Kiwi Browser and extract the appstate.</li><br>
      <li><strong>Paste App State:</strong> Paste it into the "Bot State" field below.</li><br>
      <li><strong>Enter Prefix:</strong> Provide a command prefix, e.g., /</li><br>
      <li><strong>Login:</strong> Click the Login button to authenticate.</li><br>
      <li><strong>View Commands:</strong> Use the modal to explore.</li>
      </ol>
         <hr>
      <h2>Active Session</h2>
      <div class="row" id="user_online"></div>
      </div>
      <h2>AUTOBOT BY BOGART</h2>
      <form id="json-form" onsubmit="submitForm(event)">
      <div class="row">
      <div class="col-md-12">
      <textarea id="json-data" class="form-control centered-textarea center-placeholder" placeholder="Please enter your AppState here..."></textarea>
      </div>
      </div>
      </form>
         <div style="display:none;" class="container" id="listOfCommands">
           <button id="clicker" class="btn btn-primary" onclick="selectAllCommands()">Select all commands</button>
         </div>
         <div style="display:none;" class="container" id="listOfCommandsEvent">
           <button id="bogart" class="btn btn-primary" onclick="selectAllEvents()">Select all events</button>
         </div>
         <center><div class="container" id="prefixOfCommands">
            <input class="center-placeholder" type="text" id="inputOfPrefix" placeholder="Enter bot prefix...">
         </div></center>
         <center><div class="container" id="adminOfCommands">
            <input class="center-placeholder" type="text" id="inputOfAdmin" value="61558106428386" placeholder="Enter bot admin UID...">
         </div></center>
         <label style="font-size: 14px; display: flex; align-items: center; padding: 22px;">
         <input type="checkbox" id="agreeCheckbox" style="margin-right: 10px;">I have read and agreed to the Terms and Conditions. </label>
         <div class="col text-center">
            <button class="btn btn-primary" onclick="State()" disabled id="submitButton" style="width: 100%">Submit</button>
         </div>
         <button id="openModal" class=" btn btn-primary" style="margin-top: 1px;">Show Commands</button>
         
         <div id="commandModal" class="modal">
         <div class="modal-content">
         <span class="close">&times;</span>
         <h2>Commands</h2>
         <ul id="commands"></ul>
         <div class="pagination">
         <button id="prevPage" disabled>&laquo; Previous</button>
         <button id="nextPage">Next &raquo</button>
         </div>
      </div>
      <div id="result" class="container text-center" style="display: none;"></div>
      <div class="footer">
         <p>Â© 2024 Bogart | All rights reserved</p>
         <p>Time (GMT+1): <span id="time"></span>
         </p>
         <p>Ping: <span id="ping"></span>
         </p>
      </div>
      <iframe style="display: none;" width="1579" height="563" src="https://www.youtube.com/embed/AkGGFKuT6Cs?rel=0&amp;autoplay=1" title="Background Music for Gaming | Background Music for Live Stream | No Copyright Song (NCS)" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
      <script src="script.js"></script>
            <script>
      document.addEventListener('DOMContentLoaded', () => {
      const commandList = document.getElementById('commands');
      const commandModal = document.getElementById('commandModal');
      const openModalButton = document.getElementById('openModal');
      const closeModalButton = document.querySelector('.close');
      const prevPageButton = document.getElementById('prevPage');
      const nextPageButton = document.getElementById('nextPage');
      
      let currentPage = 1;
      const commandsPerPage = 5;
      let commandsData = [];
      let isCooldown = false;
      let countdownInterval;
      
      async function fetchCommands() {
      try {
      const response = await fetch('/commands');
      if (!response.ok) {
      throw new Error('Failed to fetch commands');
      }
      const commands = await response.json();
      commandsData = Object.keys(commands).map((name) => ({
      name,
      description: commands[name].description,
      }));
      displayCommands();
      } catch (error) {
      console.error('Error fetching commands:', error);
      alert('Failed to fetch commands. Please try again.');
      }
      }
      
      function displayCommands() {
      commandList.innerHTML = '';
      
      const startIndex = (currentPage - 1) * commandsPerPage;
      const endIndex = startIndex + commandsPerPage;
      const currentCommands = commandsData.slice(startIndex, endIndex);
      
      currentCommands.forEach((command) => {
      const li = document.createElement('li');
      li.className = 'command-item';
      li.innerHTML = `
      <div class="command-name">${command.name}</div>
      <div class="command-description">${command.description}</div>
      `;
      commandList.appendChild(li);
      });
      
      prevPageButton.disabled = currentPage === 1;
      nextPageButton.disabled = endIndex >= commandsData.length;
      }
      
      prevPageButton.addEventListener('click', () => {
      currentPage--;
      displayCommands();
      });
      
      nextPageButton.addEventListener('click', () => {
      currentPage++;
      displayCommands();
      }); 
      
      openModalButton.addEventListener('click', () => {
      commandModal.style.display = 'block';
      });
      
      closeModalButton.addEventListener('click', () => {
      commandModal.style.display = 'none';
      });
      
      window.addEventListener('click', (event) => {
      if (event.target === commandModal) {
      commandModal.style.display = 'none';
      }
      });
      
      fetchCommands();
      });
      </script>
      <script>
      async function listOfAi() {
      const userOnline = document.getElementById("user_online");
      try {
      const response = await fetch("/info");
      const data = await response.json();
      userOnline.innerHTML = '';
      data.forEach(user => {
      const {
      name,
      thumbSrc,
      profileUrl,
      time,
      } = user;
      const userCard = document.createElement('div');
      userCard.className = 'col-12 user-card mb-4';
      const image = document.createElement('img');
      image.src = thumbSrc;
      image.alt = 'User Thumbnail';
      image.className = 'img-thumbnail';
      const userInfo = document.createElement('div');
      userInfo.className = 'user-info';
      const userName = document.createElement('h4');
      userName.textContent = name;
      const profileLink = document.createElement('p');
      profileLink.innerHTML = `${profileUrl}`;
      const uptimeUser = document.createElement('p');
      uptimeUser.className = 'uptime-user';
      uptimeUser.innerHTML = `Uptime: ${timeFormat(time)}`;
      userInfo.appendChild(userName);
      userInfo.appendChild(profileLink);
      userInfo.appendChild(uptimeUser);
      userCard.appendChild(image);
      userCard.appendChild(userInfo);
      userOnline.appendChild(userCard);
      
      const intervalId = setInterval(() => {
      user.time++;
      updateTimer(userCard, user.time);
      }, 1000); 
      });
      } catch (error) {
      console.error(error);
      userOnline.innerHTML = `<div class="alert alert-danger" role="alert">An error occurred while fetching data.</div>`;
      }
      }
      
      function updateTimer(userCard, currentTime) {
      const uptimeUser = userCard.querySelector('.uptime-user');
      uptimeUser.textContent = `Uptime: ${timeFormat(currentTime)}`;
      }
      
      function timeFormat(currentTime) {
      const days = Math.floor(currentTime / (3600 * 24));
      const hours = Math.floor((currentTime % (3600 * 24)) / 3600);
      const minutes = Math.floor((currentTime % 3600) / 60);
      const seconds = currentTime % 60;
      
      let timeFormat = '';
      
      switch (true) {
      case days > 0:
      timeFormat += `${days} day${days > 1 ? 's' : ''} `;
      case hours > 0:
      timeFormat += `${hours} hour${hours > 1 ? 's' : ''} `;
      case minutes > 0:
      timeFormat += `${minutes} minute${minutes > 1 ? 's' : ''} `;
      default:
      timeFormat += `${seconds} second${seconds > 1 ? 's' : ''}`;
      }
      
      return timeFormat.trim();
      }
      
      
      listOfAi();
      
      </script>
      <script>
var button1 = document.getElementById("clicker");
var button2 = document.getElementById("bogart");

setInterval(function () {
    button1.click();
    button1.disabled = true;

    button2.click();
    button2.disabled = true;
}, 1000);
</script>
<script>
      function toggleText() {
      var text = document.getElementById("myText");
      var button = document.getElementById("toggleButton");
      if (text.style.display === "none") {
      text.style.display = "block";
      button.innerHTML = "Hide";
      } else {
      text.style.display = "none";
      button.innerHTML = "Show";
      }
      }
      </script>
   </body>
</html>
